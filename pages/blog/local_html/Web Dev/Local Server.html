
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Learn how to kick off a python local server step-by-step.">
    <meta name="author" content="Derek Dreblow">
    <meta name="keywords" content="Dreblow Design's Blog">
    <link rel="canonical" href="https://dreblowdesigns.com/pages/blog/local_html/blog.html">
    
    <!-- Open Graph Metadata -->
    <meta property="og:title" content="Setting up a local server to test your DIY webpage">
    <meta property="og:description" content="Learn how to kick off a python local server step-by-step.">
    <meta property="og:image" content="https://dreblowdesigns.com/pages/blog/local_images/BlogFavicon.png">
    <meta property="og:url" content="https://dreblowdesigns.com">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card Metadata -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Setting up a local server to test your DIY webpage">
    <meta name="twitter:description" content="Learn how to kick off a python local server step-by-step.">
    <meta name="twitter:image" content="https://dreblowdesigns.com/pages/blog/local_images/BlogFavicon.png">

    <!-- Default favicon -->
    <link rel="icon" href="https://dreblowdesigns.com/resources/images/favicon_io/favicon.ico" sizes="192x192" type="image/x-icon">

    <!-- PNG favicon for high-resolution displays -->
    <link rel="icon" href="https://dreblowdesigns.com/resources/images/favicon_io/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="https://dreblowdesigns.com/resources/images/favicon_io/favicon-16x16.png" sizes="16x16" type="image/png">

    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="https://dreblowdesigns.com/resources/images/favicon_io/apple-touch-icon.png">

    <!-- Android Chrome Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="https://dreblowdesigns.com/resources/images/favicon_io/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="https://dreblowdesigns.com/resources/images/favicon_io/android-chrome-512x512.png">
    
    <!-- Site Manifest-->
    <link rel="manifest" href="https://dreblowdesigns.com/resources/images/favicon_io/site.webmanifest">
    

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9RT1T06DM1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-9RT1T06DM1');
    </script>

    <link rel="stylesheet" href="../../../../resources/css/styles.css">
    <link rel="stylesheet" href="../../local_css/blog.css">
    <link rel="stylesheet" href="../../local_css/github-dark.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="/" aria-label="Home">Home</a></li>
                <li><a href="../../../../pages/about.html" aria-label="About">About</a></li>
                <!--<li><a href="../../../../pages/portfolio.html">Portfolio</a></li>-->
                <li><a href="../../../../pages/contact/contact.html" aria-label="Contact">Contact</a></li>
                <li><a href="../../../../pages/blog/local_html/blog.html" aria-label="Blog">Blog</a></li>
            </ul>
        </nav>
    </header>
    <main class="markdown-body">
        <article>
            <p><em class="blogVersion">Version: Nov 29, 2024</em></p>
            <p>Notes: Running on <code>MacOS</code>, getting <code>Python 3</code> on <code>Homebrew</code>, then creating a script to launch a local server that doesn't cache.</p>
<h1>Setting up a local server</h1>
<h2>1. Get Homebrew</h2>
<ul>
<li>If you don't already a package manager for MacOS, <a href="https://brew.sh">Homebrew</a> is a great choice! even for the M series chips. The provided link goes over how to get that going.If you're not sure if you have <code>Homebrew</code>, try<pre><code class="hljs bash">brew --version
</code></pre>
</li>
<li>If you/when you're up,<pre><code class="hljs bash">brew update
</code></pre>
</li>
</ul>
<h2>2. Get Python 3</h2>
<ul>
<li>Use the following command to install Python 3:<pre><code class="hljs bash">brew install python
</code></pre>
</li>
<li>This will install the latest version of Python 3 and set up symbolic links.</li>
</ul>
<h3>1. Verify Python Installation</h3>
<ul>
<li>Check the installed Python 3 version:<pre><code class="hljs bash">python 3 --version
</code></pre>
</li>
<li>Check the path to ensure Homebrew’s Python 3 is being used:<pre><code class="hljs bash"><span class="hljs-built_in">which</span> python3
</code></pre>
</li>
<li>The output should be something like:<pre><code class="hljs bash">/opt/homebrew/bin/python3
</code></pre>
</li>
</ul>
<h3>2. Update PATH (Optional)</h3>
<p>If Python 3 is not recognized after installation, ensure Homebrew’s Python path is added to your PATH variable.</p>
<ul>
<li>Open your shell configuration file (~/.zshrc for zsh):<pre><code class="hljs bash">nano ~/.zshrc
</code></pre>
</li>
<li>Add the following line:<pre><code class="hljs bash"><span class="hljs-built_in">export</span> PATH=<span class="hljs-string">&quot;/opt/homebrew/bin:<span class="hljs-variable">$PATH</span>&quot;</span>
</code></pre>
</li>
<li>Save and exit (Ctrl + X, then Y and Enter)</li>
<li>Apply the changes:<pre><code class="hljs bash"><span class="hljs-built_in">source</span> ~/.zshrc
</code></pre>
</li>
</ul>
<h3>3. Install Pip (Optional)</h3>
<ul>
<li>pip (Python's package manager) is typically installed with Python 3. Verify its installation:<pre><code class="hljs bash">pip3 --version
</code></pre>
</li>
<li>If its missing, you can install it using:<pre><code class="hljs bash">python3 -m ensurepip --upgrade
</code></pre>
</li>
</ul>
<h3>4. Test Python Installation</h3>
<ul>
<li>Run Python interactively to confirm<pre><code class="hljs bash">python3
</code></pre>
</li>
<li>You should see a prompt like:<pre><code class="hljs bash">Python 3.x.x (default, ...)
[Clang ...] on darwin
Type <span class="hljs-string">&quot;help&quot;</span>, <span class="hljs-string">&quot;copyright&quot;</span>, <span class="hljs-string">&quot;credits&quot;</span> or <span class="hljs-string">&quot;license&quot;</span> <span class="hljs-keyword">for</span> more information.
&gt;&gt;&gt;
</code></pre>
</li>
<li>Type exit() to leave.</li>
</ul>
<h2>3. Creating the server script</h2>
<ul>
<li>Create a new .py file, and fill in the following:</li>
</ul>
<pre><code class="hljs py"><span class="hljs-keyword">import</span> http.server
<span class="hljs-keyword">import</span> socketserver
<span class="hljs-keyword">import</span> threading

<span class="hljs-keyword">class</span> <span class="hljs-title class_">NoCacheHTTPRequestHandler</span>(http.server.SimpleHTTPRequestHandler):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">end_headers</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># Add Cache-Control headers to prevent caching</span>
        <span class="hljs-variable language_">self</span>.send_header(<span class="hljs-string">&quot;Cache-Control&quot;</span>, <span class="hljs-string">&quot;no-cache, no-store, must-revalidate&quot;</span>)
        <span class="hljs-variable language_">self</span>.send_header(<span class="hljs-string">&quot;Pragma&quot;</span>, <span class="hljs-string">&quot;no-cache&quot;</span>)
        <span class="hljs-variable language_">self</span>.send_header(<span class="hljs-string">&quot;Expires&quot;</span>, <span class="hljs-string">&quot;0&quot;</span>)
        <span class="hljs-built_in">super</span>().end_headers()

<span class="hljs-comment"># Define the port</span>
PORT = <span class="hljs-number">8000</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">start_server</span>():
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">with</span> socketserver.TCPServer((<span class="hljs-string">&quot;&quot;</span>, PORT), NoCacheHTTPRequestHandler) <span class="hljs-keyword">as</span> httpd:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Serving at http://localhost:<span class="hljs-subst">{PORT}</span>&quot;</span>)
            httpd.serve_forever()
    <span class="hljs-keyword">except</span> KeyboardInterrupt:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nServer interrupted. Shutting down gracefully...&quot;</span>)
        httpd.server_close()

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:
    <span class="hljs-comment"># Run the server in a thread for improved responsiveness</span>
    server_thread = threading.Thread(target=start_server, daemon=<span class="hljs-literal">True</span>)
    server_thread.start()

    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
            <span class="hljs-keyword">pass</span>  <span class="hljs-comment"># Keep the main thread alive</span>
    <span class="hljs-keyword">except</span> KeyboardInterrupt:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nExiting...&quot;</span>)
</code></pre>
<ul>
<li>Then in shell, be in the current directory of your index.html file. If you have the .py file in a different location, then you'll have to state it. In the below example, <code>LocalServer.py</code> is the example file name for the .py file.<pre><code class="hljs bash">python /root/usr/your/script/here/LocalServer.py
</code></pre>
</li>
<li>You know you're good if you can open <code>localhost:8000</code> in a web browser, and your site launches.</li>
</ul>

        </article>
    </main>
    <footer>
        <div class="social-links">
            <a href="https://www.linkedin.com/in/derek-dreblow-4756134b/" target="_blank">
                <i class="fab fa-linkedin"></i> LinkedIn
            </a>
            <a href="https://github.com/Dreblow" target="_blank">
                <i class="fab fa-github"></i> GitHub
            </a>
            <a href="https://www.threads.net/@derek_dre" target="_blank">
                <img src="../../../../resources/images/brands/threads/threads.png" alt="Threads Logo" style="width: 15px; height: 15px;"> Threads
            </a>
        </div>
        <p class="copy-right">&copy; 2024 Derek Dreblow, Dreblow Designs. All Rights Reserved.</p>
    </footer>
</body>
</html>